<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>crud</title>
    
    <style>
        .booklist{overflow: hidden}
        .style{float: left;}
        .style2{margin-left: 100px;}
        .style2 input{display: block; margin-bottom: 10px; }
        tr{transition:all .25s ease-in-out}
    </style>

</head>
<body>
	<h1>BOOK LIST</h1>
        <div class="booklist">
            <div class="style">
                <table id="table" border="1">
                    <tr>
                        <th>책 제목</th>
                        <th>책 저자</th>
                        <th>책 가격</th>
                    </tr>
                    <tr>
                        <td>자바스크립트 마스터 북</td>
                        <td>야마다 요시히로</td>
                        <td>27000</td>
                    </tr>
                </table>
            </div>                
            <div class="style style2">
                Book Name :<input type="text" value="" id="bname">
                Book Author :<input type="text" value="" id="author">
                Book Price :<input type="text" value="" id="price">

                <button onclick="creat();">Creat</button>
                <button onclick="update();">update</button>
                <button onclick="dele();">Delete</button>   
            </div>
        </div>
        <script type="text/javascript">
            var r;
            var table = document.getElementById("table");

            function check()
            {
                var Empty = false,
                    bname = document.getElementById("bname").value,
                    author = document.getElementById("author").value,
                    price = document.getElementById("price").value;
                if(bname === ""){
                    alert("책 제목을 입력해 주세요");
                    Empty = true;
                }
                else if(author === ""){
                    alert("책 저자를 입력해 주세요");
                    Empty = true;
                }
                else if(price === ""){
                    alert("책 가격을 입력해 주세요");
                    Empty = true;
                }
                return Empty;
            }
            function creat()
            {
                if(!check()){
                    var newRow = table.insertRow(table.length);
                    var bn = newRow.insertCell(0);
                    var ba = newRow.insertCell(1);
                    var bp = newRow.insertCell(2);
                    bname = document.getElementById("bname").value;
                    author = document.getElementById("author").value;
                    price = document.getElementById("price").value;
            
                    bn.innerHTML = bname;
                    ba.innerHTML = author;
                    bp.innerHTML = price;
                    select();
                }
            }
            function select()
            {
                for(var i = 1; i < table.rows.length; i++)
                {
                    table.rows[i].onclick = function()
                    {
                      r = this.rowIndex;
                      document.getElementById("bname").value = this.cells[0].innerHTML;
                      document.getElementById("author").value = this.cells[1].innerHTML;
                      document.getElementById("price").value = this.cells[2].innerHTML;
                    };
                }
            }
            select();
            function update()
            {
                var bname = document.getElementById("bname").value;
                var author = document.getElementById("author").value;
                var price = document.getElementById("price").value;
                if(!check()){
                    table.rows[r].cells[0].innerHTML = bname;
                    table.rows[r].cells[1].innerHTML = author;
                    table.rows[r].cells[2].innerHTML = price;
                }
            }
            function dele()
            {
                table.deleteRow(r);
                document.getElementById("bname").value = "";
                document.getElementById("author").value = "";
                document.getElementById("price").value = "";
            }

        </script>

</body>
</html>